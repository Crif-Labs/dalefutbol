<div *ngIf="loading" class="loader-container">
    <app-loading-page></app-loading-page>
</div>


<div *ngIf="!loading" class="data-search">
    <div class="calendar">
        <div class="info-date">
            <span class="date"><b>Hoy</b>, {{today | date: 'EEEE'}} {{today | date: 'd' }}</span>
            <span class="comuna"> en <b>{{comuna}}</b>&nbsp;<i class="fa-solid fa-location-dot"></i></span>
        </div>

        <div class="date-picker-container">
            <input type="date" class="date-picker">
            <span><i class="fa-regular fa-calendar-days"></i></span>
        </div>
    </div>

    <div class="search-container">
        <form class="form-search">
            <input type="text" class="search-input" placeholder="Busca tu cancha...">
            <button class="btn btn-search"><i class="fa-solid fa-magnifying-glass"></i></button>
        </form>

        <select [(ngModel)]="comunaSelected" (change)="changeComuna($event)" class="comuna-select">
            <option class="option-select" value="Comuna" disabled selected>Comuna</option>
            <option class="option-select" [value]="comuna.nombre" *ngFor="let comuna of comunaList">
                {{comuna.nombre}}<i class="fa-solid fa-location-dot"></i>
            </option>
        </select>
    </div>
</div>

<div *ngIf="!loading" class="cancha-list">
    <div *ngFor="let horario of listHorarioCancha">
        <div *ngFor="let cancha of horario.cancha_list" class="cancha-card" style="background-image: url('{{cancha.link_image}}');">
            <div class="detail-cancha">
                <h3 class="cancha-name">{{cancha.nombre}}</h3>
                <span class="cancha-detail">{{cancha.capacidad_equipo}} vs {{cancha.capacidad_equipo}}, {{cancha.direccion}}</span>
                <span class="cancha-hours">{{horario.hora_inicio}} hr</span>
            </div>
    
            <div class="bottom-card">
                <span class="cuantity-group">{{cancha.inscritos}}/{{cancha.capacidad}}&nbsp;<i class="fa-solid fa-users"></i></span>
                <a class="btn btn-cancha-reserva" (click)="redirecToReserva(horario, cancha)">Reservar</a>
            </div>
        </div>
    </div>


    <!-- <button class="btn" *ngFor="let horario of horarios" (click)="getCanchasPorHorarios(horario.id)">{{horario.hora_inicio}} - {{horario.dia}}</button> -->

</div>

